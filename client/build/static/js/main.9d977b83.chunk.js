(this.webpackJsonpnoteapp=this.webpackJsonpnoteapp||[]).push([[0],{32:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(19),r=a.n(s),o=a(0);function l(){return Object(o.jsx)("div",{className:"container",children:"About page"})}var i=a(2),d=a(11),m=a(8),b=a(10),j=Object(n.createContext)();function u(){var e=Object(n.useContext)(j),t=e.addNote,a=e.colorMode,c=Object(n.useState)({title:"",description:"",tag:""}),s=Object(b.a)(c,2),r=s[0],l=s[1],i=function(e){l(Object(m.a)(Object(m.a)({},r),{},Object(d.a)({},e.target.name,e.target.value)))};return Object(o.jsxs)("div",{className:"container mt-5 md-3",children:[Object(o.jsx)("h2",{className:"textmode-".concat(a),children:"Add a Note"}),Object(o.jsxs)("form",{children:[Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"title",className:"form-label textmode-".concat(a),children:"Title"}),Object(o.jsx)("input",{type:"text",className:"form-control inputs-".concat(a),id:"title",name:"title",value:r.title,onChange:i,minLength:1,required:!0})]}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"description",className:"form-label textmode-".concat(a),children:"Description"}),Object(o.jsx)("textarea",{className:"form-control inputs-".concat(a),id:"description",name:"description",value:r.description,onChange:i,minLength:5,required:!0})]}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"tag",className:"form-label textmode-".concat(a),children:"Tag"}),Object(o.jsx)("input",{className:"form-control inputs-".concat(a),id:"tag",name:"tag",value:r.tag,onChange:i})]}),Object(o.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(e){var a=r.title.length,n=r.description.length;a>=1&&n>=5&&(e.preventDefault(),t(r.title,r.description,r.tag)),l({title:"",description:"",tag:""})},children:"Add Note"})]}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("h3",{className:"my-3 textmode-".concat(a),children:"Your Notes"})]})}function p(){var e=Object(i.f)(),t=Object(n.useContext)(j),a=t.loginProvider,c=t.colorMode,s=Object(n.useState)({email:"",password:""}),r=Object(b.a)(s,2),l=r[0],u=r[1],p=function(e){u(Object(m.a)(Object(m.a)({},l),{},Object(d.a)({},e.target.name,e.target.value)))};return Object(o.jsx)("div",{className:"container mt-5",children:Object(o.jsxs)("form",{children:[Object(o.jsx)("h2",{className:"my-4 textmode-".concat(c),children:"Login to use NotesOrange"}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label textmode-".concat(c),children:"Email address"}),Object(o.jsx)("input",{type:"email",className:"form-control inputs-".concat(c),id:"exampleInputEmail1","aria-describedby":"emailHelp",value:l.email,onChange:p,name:"email",required:!0}),Object(o.jsx)("div",{id:"emailHelp",className:"form-text textmode-".concat(c),children:"We'll never share your email with anyone else."})]}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label textmode-".concat(c),children:"Password"}),Object(o.jsx)("input",{type:"password",className:"form-control inputs-".concat(c),id:"exampleInputPassword1",value:l.password,onChange:p,name:"password",required:!0})]}),Object(o.jsxs)("div",{className:"mb-3 form-check",children:[Object(o.jsx)("input",{type:"checkbox",className:"form-check-input inputs-".concat(c),id:"exampleCheck1"}),Object(o.jsx)("label",{className:"form-check-label textmode-".concat(c),htmlFor:"exampleCheck1",children:"Check me out"})]}),Object(o.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(t){l.email.length>=1&&l.password.length>=5&&(t.preventDefault(),a(l.email,l.password,e))},children:"Submit"})]})})}a(32);function h(e){var t=Object(n.useContext)(j),a=t.deleteNote,c=t.setCurrentNote,s=t.setMsg,r=t.colorMode;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"col-md-3 my-3",children:Object(o.jsx)("div",{className:"card mode-".concat(r),children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("i",{className:"far fa-edit mb-3","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:function(){return c(e.note)}}),Object(o.jsx)("h5",{className:"card-title",children:e.note.title}),Object(o.jsxs)("p",{className:"card-text",children:[e.note.description," "]}),Object(o.jsx)("i",{className:"far fa-trash-alt",onClick:function(){a(e.note._id),s("Deleted Successfully")}})]})})})})}function x(){var e=Object(i.f)(),t=Object(n.useContext)(j),a=t.notes,c=t.updateNote,s=t.currentNote,r=t.setCurrentNote,l=t.fetchNotes,b=Object(n.useRef)(null);Object(n.useEffect)((function(){localStorage.getItem("token")?l():e.push("/login")}),[]);var u=function(e){r(Object(m.a)(Object(m.a)({},s),{},Object(d.a)({},e.target.name,e.target.value)))};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(o.jsx)("div",{className:"modal-dialog",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Update Note"}),Object(o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(o.jsx)("div",{className:"modal-body",children:Object(o.jsxs)("form",{children:[Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"updatedTitle",className:"form-label",children:"Title"}),Object(o.jsx)("input",{type:"text",className:"form-control",id:"updatedTitle",name:"title",value:s.title,onChange:u})]}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"updatedDesc",className:"form-label",children:"Description"}),Object(o.jsx)("input",{type:"text",className:"form-control",id:"updatedDesc",name:"description",value:s.description,onChange:u})]}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"updatedTag",className:"form-label",children:"Title"}),Object(o.jsx)("input",{type:"text",className:"form-control",id:"updatedTag",name:"tag",value:s.tag,onChange:u})]})]})}),Object(o.jsxs)("div",{className:"modal-footer",children:[Object(o.jsx)("button",{ref:b,type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(o.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){console.log("updating note.."),b.current.click(),c()},children:"Save changes"})]})]})})}),Object(o.jsx)("div",{className:"row",children:0===a.length?Object(o.jsx)("p",{children:"No notes to display"}):a.map((function(e){return Object(o.jsx)(h,{note:e},e._id)}))})]})}function O(){var e=Object(i.f)();return Object(n.useEffect)((function(){localStorage.getItem("token")||e.push("/login")}),[]),Object(o.jsx)(o.Fragment,{children:localStorage.getItem("token")?Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(u,{}),Object(o.jsx)("div",{className:"container mb-5",children:Object(o.jsx)(x,{})})]}):Object(o.jsx)(p,{})})}var g=a(9);a(33);function f(){var e=Object(n.useContext)(j).setDarkmode,t=Object(i.f)(),a=Object(i.g)();return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark sticky-top",children:Object(o.jsxs)("div",{className:"container-fluid",children:[Object(o.jsx)(g.b,{className:"navbar-brand",to:"/",children:"NotesOrange"}),Object(o.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(o.jsx)("span",{className:"navbar-toggler-icon"})}),Object(o.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(o.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(g.b,{className:"nav-link ".concat("/"===a.pathname?"active":""),"aria-current":"page",to:"/",children:"Home"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(g.b,{className:"nav-link ".concat("/about"===a.pathname?"active":""),to:"/about",children:"About"})}),Object(o.jsxs)("li",{className:"nav-item dropdown",children:[Object(o.jsx)(g.b,{className:"nav-link dropdown-toggle",to:"/",id:"navbarDarkDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Account"}),Object(o.jsx)("ul",{className:"dropdown-menu dropdown-menu-dark","aria-labelledby":"navbarDarkDropdownMenuLink",children:localStorage.getItem("token")?Object(o.jsx)("li",{children:Object(o.jsx)(g.b,{className:"dropdown-item",to:"/login",onClick:function(){localStorage.removeItem("token"),t.push("/login")},children:"Logout"})}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("li",{children:Object(o.jsx)(g.b,{className:"dropdown-item",to:"/login",children:"Login"})}),Object(o.jsx)("li",{children:Object(o.jsx)(g.b,{className:"dropdown-item",to:"/signup",children:"Signup"})})]})})]})]}),Object(o.jsxs)("div",{className:"d-flex align-item-center",children:[Object(o.jsx)("p",{className:"text-light darktext",children:"Darkmode"}),Object(o.jsxs)("label",{className:"switch mx-3",children:[Object(o.jsx)("input",{type:"checkbox"}),Object(o.jsx)("span",{className:"slider round",onClick:function(){e()}})]})]})]})]})})})}var N=a(7),v=a.n(N),y=a(13);function k(e){var t="https://notesorange.herokuapp.com/user/notes/",a="https://notesorange.herokuapp.com/user/auth/",c=Object(n.useState)("light"),s=Object(b.a)(c,2),r=s[0],l=s[1],i=Object(n.useState)([{}]),d=Object(b.a)(i,2),m=d[0],u=d[1],p=Object(n.useState)({msg:"",msgType:""}),h=Object(b.a)(p,2),x=h[0],O=h[1],g=Object(n.useState)({_id:"",title:"",description:"",tag:""}),f=Object(b.a)(g,2),N=f[0],k=f[1],w=function(e,t){O({msg:e,msgType:t})},C=function(){var e=Object(y.a)(v.a.mark((function e(){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t,"fetchnotes"),{method:"GET",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}});case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,u(n),console.log("data set");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(y.a)(v.a.mark((function e(a,n,c){var s,r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={title:a,description:n,tag:c},e.next=3,fetch("".concat(t,"createnote"),{method:"POST",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")},body:JSON.stringify(s)});case 3:return r=e.sent,e.next=6,r.json();case 6:o=e.sent,u(m.concat(o));case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(y.a)(v.a.mark((function e(a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Deleting note with id",a),n=m.filter((function(e){return e._id!==a})),u(n),e.next=5,fetch("".concat(t,"deletenote/").concat(a),{method:"DELETE",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(y.a)(v.a.mark((function e(){var a,n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={title:N.title,description:N.description,tag:N.tag},n=JSON.parse(JSON.stringify(m)),c=0;case 3:if(!(c<m.length)){e.next=12;break}if(n[c]._id!==N._id){e.next=9;break}return n[c].title=N.title,n[c].description=N.description,n[c].tag=N.tag,e.abrupt("break",12);case 9:c++,e.next=3;break;case 12:return u(n),e.next=15,fetch("".concat(t,"updatenote/").concat(N._id),{method:"PUT",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")},body:JSON.stringify(a)});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F={notes:m,colorMode:r,setDarkmode:function(){var e=document.getElementsByTagName("body")[0];"light"===r?(e.style.backgroundColor="#010409",l("dark")):(e.style.backgroundColor="#fff",l("light"))},setNotes:u,msg:x,setMsg:O,deleteNote:T,addNote:S,updateNote:I,currentNote:N,setCurrentNote:k,loginProvider:function(){var e=Object(y.a)(v.a.mark((function e(t,n,c){var s,r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={email:t,password:n},e.next=3,fetch("".concat(a,"userlogin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 3:return r=e.sent,e.next=6,r.json();case 6:(o=e.sent).success?(localStorage.setItem("token",o.authToken),c.push("/"),w("Login successfull..","success")):w("Error : Invalid credentials..","warning");case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),signUpProvider:function(){var e=Object(y.a)(v.a.mark((function e(t,n,c,s){var r,o,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={name:t,email:n,password:c},e.next=3,fetch("".concat(a,"createuser"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:return o=e.sent,e.next=6,o.json();case 6:(l=e.sent).success?(localStorage.setItem("token",l.authToken),s.push("/"),w("Signup successfull..","success")):w("Error : User with this email already exists..","warning");case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}(),fetchNotes:C};return Object(o.jsx)(j.Provider,{value:F,children:e.children})}function w(){var e=Object(n.useContext)(j),t=e.setMsg,a=e.msg;return Object(o.jsx)(o.Fragment,{children:a.msg&&Object(o.jsxs)("div",{className:"alert alert-".concat(a.msgType," alert-dismissible fade show hei"),role:"alert",children:[a.msg,Object(o.jsx)("button",{type:"button",className:"btn-close btn-alert",onClick:function(){t({msg:"",msgType:""})}})]})})}function C(){var e=Object(i.f)(),t=Object(n.useContext)(j),a=t.signUpProvider,c=t.colorMode,s=Object(n.useState)({name:"",email:"",password:""}),r=Object(b.a)(s,2),l=r[0],u=r[1],p=function(e){u(Object(m.a)(Object(m.a)({},l),{},Object(d.a)({},e.target.name,e.target.value)))};return Object(o.jsx)("div",{className:"container my-4",children:Object(o.jsxs)("form",{children:[Object(o.jsx)("h2",{className:"my-4 textmode-".concat(c),children:"Signup"}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label textmode-".concat(c),children:"Username"}),Object(o.jsx)("input",{type:"text",className:"form-control inputs-".concat(c),id:"username",name:"name","aria-describedby":"nameHelp",required:!0,minLength:3,onChange:p})]}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label textmode-".concat(c),children:"Email address"}),Object(o.jsx)("input",{type:"email",className:"form-control inputs-".concat(c),id:"email",name:"email","aria-describedby":"emailHelp",required:!0,onChange:p}),Object(o.jsx)("div",{id:"emailHelp",className:"form-text textmode-".concat(c),children:"We'll never share your email with anyone else."})]}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label textmode-".concat(c),children:"Password"}),Object(o.jsx)("input",{type:"password",className:"form-control inputs-".concat(c),id:"password",name:"password",required:!0,minLength:5,onChange:p})]}),Object(o.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(t){t.preventDefault(),a(l.name,l.email,l.password,e)},children:"Submit"})]})})}function S(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(k,{children:Object(o.jsxs)(g.a,{children:[Object(o.jsx)(f,{navbarProps:{title:"NotesOrange"}}),Object(o.jsx)(w,{msg:!0}),Object(o.jsxs)(i.c,{children:[Object(o.jsx)(i.a,{exact:!0,path:"/",children:Object(o.jsx)(O,{})}),Object(o.jsx)(i.a,{exact:!0,path:"/about",children:Object(o.jsx)(l,{})}),Object(o.jsx)(i.a,{exact:!0,path:"/login",children:Object(o.jsx)(p,{})}),Object(o.jsx)(i.a,{exact:!0,path:"/signup",children:Object(o.jsx)(C,{})})]})]})})})}a(35);r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(S,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.9d977b83.chunk.js.map